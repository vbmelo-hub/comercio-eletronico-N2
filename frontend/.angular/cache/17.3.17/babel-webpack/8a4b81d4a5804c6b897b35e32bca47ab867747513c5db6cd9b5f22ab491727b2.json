{"ast":null,"code":"import { HttpHeaders, HttpParams } from '@angular/common/http';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nconst API_URL = 'http://localhost:8080/api';\nexport let ApiService = /*#__PURE__*/(() => {\n  class ApiService {\n    constructor(http) {\n      this.http = http;\n      this.token = null;\n    }\n    setToken(token) {\n      this.token = token;\n    }\n    authHeaders() {\n      return this.token ? new HttpHeaders({\n        'X-Auth-Token': this.token\n      }) : new HttpHeaders();\n    }\n    login(email, password) {\n      return this.http.post(`${API_URL}/auth/login`, {\n        email,\n        password\n      });\n    }\n    signup(name, email, password) {\n      return this.http.post(`${API_URL}/auth/signup`, {\n        name,\n        email,\n        password\n      });\n    }\n    me() {\n      return this.http.get(`${API_URL}/auth/me`, {\n        headers: this.authHeaders()\n      });\n    }\n    addPet(name, age, breed) {\n      return this.http.post(`${API_URL}/auth/pets`, {\n        name,\n        age,\n        breed\n      }, {\n        headers: this.authHeaders()\n      });\n    }\n    getCategories() {\n      return this.http.get(`${API_URL}/catalog/categories`);\n    }\n    getProducts(categoryId, petType, q) {\n      let params = new HttpParams();\n      if (categoryId) params = params.set('categoryId', categoryId);\n      if (petType) params = params.set('petType', petType);\n      if (q) params = params.set('q', q);\n      return this.http.get(`${API_URL}/catalog/products`, {\n        params\n      });\n    }\n    getProduct(id) {\n      return this.http.get(`${API_URL}/catalog/products/${id}`);\n    }\n    createOrder(request) {\n      return this.http.post(`${API_URL}/orders`, request, {\n        headers: this.authHeaders()\n      });\n    }\n    listOrders() {\n      return this.http.get(`${API_URL}/orders`, {\n        headers: this.authHeaders()\n      });\n    }\n    // Admin endpoints\n    adminSaveProduct(payload) {\n      return payload.id ? this.http.put(`${API_URL}/admin/products/${payload.id}`, payload, {\n        headers: this.authHeaders()\n      }) : this.http.post(`${API_URL}/admin/products`, payload, {\n        headers: this.authHeaders()\n      });\n    }\n    adminDeleteProduct(id) {\n      return this.http.delete(`${API_URL}/admin/products/${id}`, {\n        headers: this.authHeaders()\n      });\n    }\n    adminCreateCategory(payload) {\n      return this.http.post(`${API_URL}/admin/categories`, payload, {\n        headers: this.authHeaders()\n      });\n    }\n    adminDeleteCategory(id) {\n      return this.http.delete(`${API_URL}/admin/categories/${id}`, {\n        headers: this.authHeaders()\n      });\n    }\n    adminSaveCoupon(payload) {\n      return this.http.post(`${API_URL}/admin/coupons`, payload, {\n        headers: this.authHeaders()\n      });\n    }\n    adminListCoupons() {\n      return this.http.get(`${API_URL}/admin/coupons`, {\n        headers: this.authHeaders()\n      });\n    }\n    adminListOrders() {\n      return this.http.get(`${API_URL}/admin/orders`, {\n        headers: this.authHeaders()\n      });\n    }\n    static {\n      this.ɵfac = function ApiService_Factory(t) {\n        return new (t || ApiService)(i0.ɵɵinject(i1.HttpClient));\n      };\n    }\n    static {\n      this.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n        token: ApiService,\n        factory: ApiService.ɵfac,\n        providedIn: 'root'\n      });\n    }\n  }\n  return ApiService;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}